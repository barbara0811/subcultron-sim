<launch>

	<param name = "use_sim_time" value="true" />
	<node name = "simulation_clock2" pkg = "snippets" type = "simulation_clock2" > </node>
	<arg default = "$(optenv LOGGING false)" name = "logging" />
	<node args="--configfile $(find afish)/data/simulation/scene.xml --dataPath  $(find afish)/data/simulation/" name="uwsim" pkg="uwsim" type="uwsim" />

	<group ns="afish1">
	    	<rosparam file="$(find afish)/data/navigation/params/nav_standard.yaml" />
	    	<rosparam file="$(find afish)/data/control/params/controllers_standard.yaml" />
	    	<rosparam file="$(find afish)/data/dynamics/amussel.yaml" />
	    	<rosparam param="eta0">[1.98548444034,4.49194037625,0,0,0,0]</rosparam>
	    	<rosparam command="load" file="$(find afish)/data/locations/swarm_loc.yaml" />
	    	<include file="$(find afish)/data/simulation/simulation_standard.xml" />
	    	<include file="$(find afish)/data/control/control_standard.xml" />
	    	<include file="$(find afish)/data/primitives/primitives_standard.xml" />
	    	<include file="$(find afish)/data/simulation/visualization_standard.xml">
			<arg name="hook_sel" value="amussel1/uwsim_hook" />
	    	</include>
	    	<node name = "communication" output = "screen" pkg = "afish" type = "communication.py">
			<remap from = "afish1/position" to = "position">
		</node>
		<node name = "fish_controller" output = "screen" pkg = "afish" type = "aFish_controller.py" />
  	</group>

	<group ns="afish2">
	    	<rosparam file="$(find afish)/data/navigation/params/nav_standard.yaml" />
	    	<rosparam file="$(find afish)/data/control/params/controllers_standard.yaml" />
	    	<rosparam file="$(find afish)/data/dynamics/amussel.yaml" />
	    	<rosparam param="eta0">[2.07520104831,-1.25309186084,0,0,0,0]</rosparam>
	    	<rosparam command="load" file="$(find afish)/data/locations/swarm_loc.yaml" />
	    	<include file="$(find afish)/data/simulation/simulation_standard.xml" />
	    	<include file="$(find afish)/data/control/control_standard.xml" />
	    	<include file="$(find afish)/data/primitives/primitives_standard.xml" />
	    	<include file="$(find afish)/data/simulation/visualization_standard.xml">
			<arg name="hook_sel" value="amussel1/uwsim_hook" />
	    	</include>
	    	<node name = "communication" output = "screen" pkg = "afish" type = "communication.py">
			<remap from = "afish2/position" to = "position">
		</node>
		<node name = "fish_controller" output = "screen" pkg = "afish" type = "aFish_controller.py" />
  	</group>

</launch>
